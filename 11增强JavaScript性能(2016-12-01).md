# 增强JavaScript性能(2016/12/01)

标签（空格分隔）： 前端 js

---

> 今天是这一章的最后一部分内容，103页~111页。主要包括三部分内容，**更快地使用数组**，**转移密集型任务至Web Worker**, **简短的性能测试**。

---

### **更快速地使用数组**
> 我们经常对数组进行建立，访问，排序和遍历操作。

#### **1. 快速地建立数组**
- 创建数组的两种方式：
```
var arr = new Array();
var arr = [];
```
- 后者的速度更快，因为前者需要额外的步骤来取得Array类型的构造函数，并执行实例化。
```
//实际测试数据
console.time('test');
for(var i=0;i<100000;i++){
    var arr = new Array();
}
console.timeEnd('test');
//12~15ms

console.time('test');
for(var i=0;i<100000;i++){
    var arr = [];
}
console.timeEnd('test');
//6~9ms
```

#### **2. 快速进行数组循环**
> 迭代数据在JavaScript中是一项出了名慢的工作

##### **for循环**
- 下面是两段for循环（功能相同），但后一段的效率却更加高效
```
var arr = [0,1,2,3,4,5,6,7,8,9];

//最常见的循环
for(var i=0; i<arr.length; i++){
    // 在循环的每一次迭代中，arr.length的值必须重新计算以确保自上次迭代以来，该值没有发生改变 --- 这样就慢了
}

//更高效的方式
for(var i=0, length=arr.length; i<length; i++){
    //只计算一次arr.length的值，然后保存到变量中，每一次迭代就不再进行计算了
}
```

- 合理使用下面两个语句：
    - **break**：跳出整个循环
    - **continue**：跳出本次迭代，进行下一次

##### **反向while循环**
#### **3. 避免在循环中创建函数**



